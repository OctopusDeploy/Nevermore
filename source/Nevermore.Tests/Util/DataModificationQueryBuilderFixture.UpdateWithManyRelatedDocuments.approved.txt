UPDATE [dbo].[TestDocumentTbl]  SET [AColumn] = @AColumn, [JSON] = @JSON WHERE [Id] = @Id

DELETE FROM [dbo].[RelatedDocument] WHERE [Id] = @Id
    AND [RelatedDocumentId] not in (SELECT [RelatedDocumentId] FROM @0__relatedDocumentTableValuedParameter)

INSERT INTO [dbo].[RelatedDocument] ([Id], [Table], [RelatedDocumentId], [RelatedDocumentTable])
SELECT [Id], [Table], [RelatedDocumentId], [RelatedDocumentTable] FROM @0__relatedDocumentTableValuedParameter t
WHERE NOT EXISTS (SELECT null FROM [dbo].[RelatedDocument] r WHERE r.[Id] = @Id AND r.[RelatedDocumentId] = t.[RelatedDocumentId] )
DELETE FROM [dbo].[OtherRelatedTable] WHERE [Id] = @Id
    AND [RelatedDocumentId] not in (SELECT [RelatedDocumentId] FROM @1__relatedDocumentTableValuedParameter)

INSERT INTO [dbo].[OtherRelatedTable] ([Id], [Table], [RelatedDocumentId], [RelatedDocumentTable])
SELECT [Id], [Table], [RelatedDocumentId], [RelatedDocumentTable] FROM @1__relatedDocumentTableValuedParameter t
WHERE NOT EXISTS (SELECT null FROM [dbo].[OtherRelatedTable] r WHERE r.[Id] = @Id AND r.[RelatedDocumentId] = t.[RelatedDocumentId] )

@Id=Doc-1
@JSON={}
@AColumn=Doc1
@0__relatedDocumentTableValuedParameter=Nevermore.TableValuedParameter
@1__relatedDocumentTableValuedParameter=Nevermore.TableValuedParameter